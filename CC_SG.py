import numpy as np



NUM_CHIP_X = 10
NUM_CHIP_Y = 14




REFCHIP_LAB = np.array([[
    [96.71, 8.05, 49.76, 96.72, 8.17, 49.68, 96.6, 7.99, 49.67, 96.51],
    [49.7, 33.02, 61.4, 30.54, 49.56, 60.62, 20.13, 60.32, 19.62, 49.68],
    [8.13, 19.65, 41.7, 20.25, 60.13, 19.75, 60.43, 50.46, 60.53, 8.09],
    [96.79, 84, 85.48, 84.56, 85.26, 84.38, 62.35, 64.17, 50.48, 96.57],
    [49.79, 32.77, 62.28, 19.92, 96.78, 8.07, 77.37, 74.01, 20.33, 49.72],
    [8.09, 63.88, 35.28, 52.75, 79.65, 30.32, 63.46, 64.44, 60.05, 8.08],
    [96.7, 45.84, 47.6, 36.88, 65.22, 39.55, 44.49, 64.97, 60.77, 96.71],
    [49.74, 38.29, 20.76, 81.43, 49.71, 60.04, 67.6, 64.75, 51.26, 49.76],
    [8.1, 51.36, 71.62, 48.75, 34.85, 75.36, 45.14, 36.2, 61.65, 7.97],
    [96.69, 68.71, 70.39, 47.42, 15.43, 88.85, 64, 66.65, 62.05, 96.71],
    [49.72, 85.68, 89.35, 84.59, 83.63, 70.6, 45.14, 20.33, 62.33, 49.74],
    [8.08, 23.03, 44.35, 60.91, 62.2, 63.33, 73.74, 62.35, 72.77, 8.13],
    [49.71, 42.52, 18.09, 40.66, 53.13, 82.08, 82.5, 71.9, 21.95, 49.74],
    [96.79, 49.78, 8.23, 96.73, 49.8, 8.18, 96.73, 49.75, 8.11, 96.55]],

    [[-0.62,0.17,0.11,-0.63,0.15,0.14,-0.62,0.21,0.15,-0.63],
    [0.12,52,27.14,50.39,-13.9,-29.91,-24.81,-40.29,1.77,0.15],
    [0.15,20.42,18.9,0.26,-17.88,-17.79,-5.12,-47.9,-40.75,0.19],
    [-0.66,-1.7,15.15,-19.74,13.37,-11.97,29.94,21.34,-53.21,-0.64],
    [0.13,19.91,37.56,25.07,-0.66,0.12,20.28,29,-23.98,0.14],
    [0.19,20.34,12.93,-44.12,-0.08,-0.1,13.53,14.31,-44,0.18],
    [-0.66,-3.74,53.66,65.72,-0.27,-0.37,16.06,15.89,-30.19,-0.64],
    [0.14,-17.44,31.66,2.41,0.12,0.09,14.47,17.3,-50.65,0.14],
    [0.19,9.52,-24.77,57.24,-0.21,0.35,26.38,16.7,-54.33,0.14],
    [-0.67,-35.41,19.37,-30.91,-0.24,-0.59,25.09,22.21,16.45,-0.64],
    [0.12,10.75,-16.38,5.21,-12.47,-0.24,-0.04,0.4,-14.54,0.14],
    [0.13,33.95,67.94,36.55,37.45,51.3,-11.45,1.96,-29.09,0.15],
    [0.12,63.55,32.61,65.54,68.44,23.39,5.29,-17.32,13.41,0.12],
    [-0.67,0.12,0.18,-0.67,0.11,0.15,-0.65,0.13,0.15,-0.64]],

    [[2.06,-0.69,0.72,2.06,-0.65,0.74,2.11,-0.75,0.73,2.11],
    [0.68,-10.3,-18.42,-41.79,-49.65,-27.54,-7.5,-13.25,11.99,0.78],
    [-0.76,-18.82,-37.42,-36.44,-32.08,-22.37,-32.79,-11.56,19.37,-0.69],
    [1.99,-8.37,0.79,-1.13,7.95,27.16,36.89,19.36,12.65,2],
    [0.66,22.33,68.87,-61.05,2.01,-0.93,24.27,25.8,7.2,0.71],
    [-0.69,19.93,-51.17,38.68,0.62,0.22,26.37,17.63,7.27,-0.78],
    [1.97,-25.32,22.15,41.63,0.16,-0.09,26.79,16.79,40.76,2.01],
    [0.68,30.22,-28.04,88.98,0.69,0.05,17.12,18.88,43.8,0.71],
    [-0.93,-26.98,64.1,-14.45,0.73,0.26,41.24,27.06,46.18,-0.8],
    [1.95,-1.11,79.73,-32.27,-0.25,0.25,27.14,28.81,51.74,2.02],
    [0.64,18.39,6.41,-5.87,-8.89,0.07,0.86,-0.21,54.58,0.69],
    [-0.81,8.88,50.62,4.15,18.18,81.88,85.07,57.52,71.26,-0.86],
    [0.62,11.43,-5.9,31.98,49.57,87.24,96.68,77.72,16.36,0.69],
    [1.97,0.65,-0.82,1.99,0.67,-0.84,2.01,0.67,-0.9,2.02]]])

REFCHIP_LAB = np.transpose(REFCHIP_LAB, (2, 1, 0)) #bodge to rotate the array


LUMA_CHIPS = np.array([
    [1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]])

ALL_CHIPS = np.array([
    [1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]])


"""
LUMA_CHIPS = np.array([
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1],
    [1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]])
    """

COLOR_CHIPS = np.array([
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
    [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
    [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
    [0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0],
    [0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0],
    [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
    [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
    [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]])   #Weights for Color error calc


WB_CHIPS  = np.array([
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1],
    [1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]])


"""COLOR_CHIPS = np.array([
    [1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]]) """  #Weights for Color error calc


EXP_CHIPS = np.array([
    [0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0]]) #Weights for Middle Gray (50 L in LAB error calc



CHIP_X0 = 0.1215
CHIP_Y0 = 0.102
CHIP_XDELTA = 0.0865
CHIP_YDELTA = 0.06126

CHIP_SAFE_AREA = 0.15 #What % of chip x/y is safe for use in model.

#ILLUMINANT = "D55"   #Choose to match Illuinant of test chart LAB values {“A”, “B”, “C”, “D50”, “D55”, “D65”, “D75”, “E”},

